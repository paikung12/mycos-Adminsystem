{"ast":null,"code":"import ActionType from \"../../types/constant\";\nconst initialState = {\n  password: '',\n  note: '',\n  todayEmps: [],\n  loading: false,\n  error: ''\n};\n\nfunction CheckInReducer(state = initialState, action) {\n  switch (action.type) {\n    case ActionType.ADD_PASSWORD:\n      const curPass = state.password;\n      return { ...state,\n        password: curPass + action.payload\n      };\n\n    case ActionType.RESET_PASSWORD:\n      return { ...state,\n        password: ''\n      };\n\n    case ActionType.RESET_NOTE_AND_EXTRATIME:\n      return { ...state,\n        note: ''\n      };\n\n    case ActionType.DELETE_PASSWORD:\n      const deletePass = state.password;\n      return { ...state,\n        password: deletePass.substr(0, deletePass.length - 1)\n      };\n\n    case ActionType.GET_EMPLOYEES_TIME_TODAY_START:\n      {\n        return { ...state,\n          loading: true\n        };\n      }\n\n    case ActionType.GET_EMPLOYEES_TIME_TODAY_SUCCESS:\n      {\n        return { ...state,\n          loading: false,\n          todayEmps: action.payload,\n          error: ''\n        };\n      }\n\n    case ActionType.GET_NOTE_TODAY:\n      {\n        return { ...state,\n          loading: false,\n          error: ''\n        };\n      }\n\n    case ActionType.GET_EMPLOYEES_TIME_TODAY_ERROR:\n      {\n        return { ...state,\n          loading: false,\n          error: action.payload\n        };\n      }\n\n    case ActionType.POST_TIME_TODAY_START:\n      {\n        return { ...state,\n          loading: true\n        };\n      }\n\n    case ActionType.POST_TIME_TODAY_SUCCESS:\n      {\n        const payload = action.payload;\n        const remainEmps = state.todayEmps.filter(t => t.employeeId !== payload.employeeId);\n        return { ...state,\n          todayEmps: [...remainEmps, payload],\n          loading: false\n        };\n      }\n\n    case ActionType.POST_NOTE_TODAY:\n      {\n        const note = state.note;\n        return { ...state,\n          loading: true\n        };\n      }\n\n    case ActionType.POST_EXTRATIME_START:\n      {\n        return { ...state,\n          loading: true\n        };\n      }\n\n    case ActionType.POST_EXTRATIME_END:\n      {\n        return { ...state,\n          loading: true\n        };\n      }\n\n    case ActionType.POST_TIME_TODAY_ERROR:\n      {\n        return { ...state,\n          loading: false,\n          error: action.payload\n        };\n      }\n\n    default:\n      return state;\n  }\n}\n\n_c = CheckInReducer;\nexport default CheckInReducer;\n\nvar _c;\n\n$RefreshReg$(_c, \"CheckInReducer\");","map":{"version":3,"sources":["/Users/auttapongkompiban/Spec_mycos/mycos-makub/src/store/reducers/checkInReducer.ts"],"names":["ActionType","initialState","password","note","todayEmps","loading","error","CheckInReducer","state","action","type","ADD_PASSWORD","curPass","payload","RESET_PASSWORD","RESET_NOTE_AND_EXTRATIME","DELETE_PASSWORD","deletePass","substr","length","GET_EMPLOYEES_TIME_TODAY_START","GET_EMPLOYEES_TIME_TODAY_SUCCESS","GET_NOTE_TODAY","GET_EMPLOYEES_TIME_TODAY_ERROR","POST_TIME_TODAY_START","POST_TIME_TODAY_SUCCESS","remainEmps","filter","t","employeeId","POST_NOTE_TODAY","POST_EXTRATIME_START","POST_EXTRATIME_END","POST_TIME_TODAY_ERROR"],"mappings":"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","sourcesContent":["import ActionType, { IAction } from \"../../types/constant\"\nimport ITimeToday from \"../../types/ITimeToday\"\n\ninterface CheckInReducerState {\n    password: string\n    note: string\n    todayEmps: ITimeToday[]\n    loading: boolean\n    error: string\n    \n}\n\nconst initialState: CheckInReducerState = {\n    password: '',\n    note: '',\n    todayEmps: [],\n    loading: false,\n    error: '',\n}\n\n\nfunction CheckInReducer(state: CheckInReducerState = initialState, action: IAction<any>) {\n\n    switch (action.type) {\n        case ActionType.ADD_PASSWORD:\n            const curPass = state.password\n            return {\n                ...state,\n                password: curPass + action.payload\n            }\n        case ActionType.RESET_PASSWORD:\n            return {\n                ...state,\n                password:''\n                \n            }\n        case ActionType.RESET_NOTE_AND_EXTRATIME:\n            return{\n                ...state,\n                note:''\n            }\n        case ActionType.DELETE_PASSWORD:\n            const deletePass = state.password\n            return{\n                ...state,\n                password : deletePass.substr(0,deletePass.length-1)\n                \n            }    \n        case ActionType.GET_EMPLOYEES_TIME_TODAY_START: {\n            return {\n                ...state,\n                loading: true\n            }\n        }\n        case ActionType.GET_EMPLOYEES_TIME_TODAY_SUCCESS: {\n            return {\n                ...state,\n                loading: false,\n                todayEmps: action.payload,\n                error: ''\n            }\n        }\n        case ActionType.GET_NOTE_TODAY: {\n           return{\n            ...state,\n            loading: false,\n            error: ''\n           }\n        }\n        case ActionType.GET_EMPLOYEES_TIME_TODAY_ERROR: {\n            return {\n                ...state,\n                loading: false,\n                error: action.payload\n            }\n        }\n        case ActionType.POST_TIME_TODAY_START: {\n            return {\n                ...state,\n                loading: true\n            }\n        }\n        case ActionType.POST_TIME_TODAY_SUCCESS:{\n            const payload = action.payload as ITimeToday\n            const remainEmps = state.todayEmps.filter(t => t.employeeId !== payload.employeeId)\n            return{\n                ...state,\n                todayEmps: [...remainEmps, payload],\n                loading: false\n            }\n        }\n        case ActionType.POST_NOTE_TODAY:{\n            const note = state.note\n            return{\n                ...state,\n                loading: true\n            }\n        }\n        case ActionType.POST_EXTRATIME_START:{\n            return{\n                ...state,\n                loading: true\n            }\n        }\n        case ActionType.POST_EXTRATIME_END:{\n            return{\n                ...state,\n                loading: true\n            }\n        }\n\n        case ActionType.POST_TIME_TODAY_ERROR:{\n            return{\n                ...state,\n                loading: false,\n                error: action.payload\n            }\n        }\n        default: return state\n    }\n}\n\nexport default CheckInReducer"]},"metadata":{},"sourceType":"module"}