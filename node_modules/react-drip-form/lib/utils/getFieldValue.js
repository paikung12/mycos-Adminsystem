'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _isEvent = require('./isEvent');

var _isEvent2 = _interopRequireDefault(_isEvent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var getSelectedValues = function getSelectedValues(options) {
  var results = [];

  if (options) {
    for (var i = 0; i < options.length; i += 1) {
      var option = options[i];
      if (option.selected) {
        results.push(option.value);
      }
    }
  }

  return results;
};


var getFieldValue = function getFieldValue(type, e) {
  if (!(0, _isEvent2.default)(e)) return e;

  var target = e.target,
      dataTransfer = e.dataTransfer;
  var value = target.value,
      checked = target.checked,
      files = target.files,
      options = target.options;


  switch (type) {
    case 'checkbox':
      return checked ? value : '';
    case 'file':
      return files || dataTransfer && dataTransfer.files;
    case 'select-multiple':
      return getSelectedValues(options);
    default:
      return value;
  }
};

exports.default = getFieldValue;